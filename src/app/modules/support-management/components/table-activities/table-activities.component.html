<div *ngIf="laborData != null; else nullData">
    <div class="table-responsive">
        <table class="table ">
            <thead>
                <tr style="display: flex;">
                    <th class="head-table-one">
                        <span class="text-body-heavy">Actividades</span>
                    </th>
                    <th class="text-body-heavy head-table-two" colspan="2">
                        <span class="text-body-heavy">Autoevalución</span>
                    </th>
                    <th class="text-body-heavy head-table-three">
                        <span class="text-body-heavy">Fuente 2</span>
                    </th>
                </tr>
                <tr style="display:flex;">
                    <th class="subhead-table-one">
                        <span class="text-body-small-r">Nombre actividad</span>
                    </th>
                    <th class="text-body-small-r subhead-table-two">
                        <span class="text-body-small-r">Estado</span>
                    </th>
                    <th class="text-body-small-r subhead-table-three">
                        <span class="text-body-small-r">Acciones</span>
                    </th>
                    <th class="text-body-small-r subhead-table-four">
                        <span class="text-body-small-r">Evaluador</span>
                    </th>
                    <th class="text-body-small-r subhead-table-four">
                        <span class="text-body-small-r">Rol Evaluador</span>
                    </th>
                    <th class="text-body-small-r subhead-table-two" style="background-color: var(--Gray-background);">
                        <span class="text-body-small-r">Estado</span>
                    </th>
                    <th class="text-body-small-r subhead-table-three" style="background-color: var(--Gray-background);">
                        <span class="text-body-small-r">Acciones</span>
                    </th>
                </tr>
            </thead>
            <tbody *ngFor="let activitieType of laborData.labor; let isLastLaborType = last">
                <tr>
                    <td class="type-source text-body-heavy"><span class="text-body-heavy">{{ activitieType.type
                            }}</span>
                    </td>
                </tr>
                <tr style="display: flex ;"
                    *ngFor="let activitie of activitieType.activities; let isLastActivitie = last">
                    <th class="subhead-table-one" [ngStyle]="{
                    'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                    'border-radius': isLastLaborType && isLastActivitie ? '0px 0px 0px 8px' : ''
                  }">
                        <span class="text-body-small-r">{{activitie.activities_name}}</span>
                    </th>
                    <div style="display: contents;" *ngFor="let source of activitie.source">
                        <div [ngSwitch]="source.name_source" style="display: contents;">
                            <div *ngSwitchCase="'Autoevaluación'" style="display: contents;">
                                <div *ngIf="source.state=='Pendiente firma'" style="display: flex;">
                                    <th nowrap class="subhead-table-two" [ngStyle]="{
                                'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                              }">
                                        <span class="text-body-small-r" style="color:#FF9800;">{{source.state}}</span>
                                    </th>
                                    <th class="text-body-small-r subhead-table-three" [ngStyle]="{
                                'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                              }">
                                        <img src="assets/icons/tables/icon-view.svg" alt="icon-see">
                                    </th>
                                </div>
                                <div *ngIf="source.state=='Pendiente'" style="display: flex;">
                                    <th nowrap class="subhead-table-two" [ngStyle]="{
                                    'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                                  }">
                                        <span class="text-body-small-r" style="color:#FF554C;">{{source.state}}</span>
                                    </th>
                                    <th class="text-body-small-r subhead-table-three" [ngStyle]="{
                                    'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                                  }">
                                        <img src="assets/icons/tables/upload.svg" alt="upload">
                                    </th>

                                </div>

                            </div>
                            <div *ngSwitchCase="'Fuente 2'" style="display: contents;">
                                <th class="text-body-small-r subhead-table-four" [ngStyle]="{
                                'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                              }">
                                    <span class="text-body-small-r">{{source.evaluator}}</span>
                                </th>
                                <th class="text-body-small-r subhead-table-four" [ngStyle]="{
                                'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                              }">
                                    <span class="text-body-small-r">{{source.rol_evaluator}}</span>
                                </th>
                                <div style="display: flex;" *ngIf="source.state=='Diligenciado'">
                                    <th class="text-body-small-r subhead-table-two"
                                        style="background-color: var(--Gray-background);" [ngStyle]="{
                                    'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                                  }">
                                        <span class="text-body-small-r" style="color: #5BAE40;">{{source.state}}</span>
                                    </th>
                                    <th class="text-body-small-r subhead-table-three"
                                        style="background-color: var(--Gray-background);" [ngStyle]="{
                                    'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                                    'border-radius': isLastLaborType && isLastActivitie ? '0px 0px 8px 0px' : ''
                                  }">
                                        <img src="assets/icons/tables/icon-view.svg" alt="icon-view">
                                    </th>
                                </div>

                                <div *ngIf="source.state=='Pendiente'" style="display: flex;">
                                    <th class="text-body-small-r subhead-table-two"
                                        style="background-color: var(--Gray-background);" [ngStyle]="{
                                    'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                                  }">
                                        <span class="text-body-small-r" style="color: #FF554C;">{{source.state}}</span>
                                    </th>
                                    <th class="text-body-small-r subhead-table-three"
                                        style="background-color: var(--Gray-background);" [ngStyle]="{
                                    'border-bottom': isLastLaborType && isLastActivitie ? '1px solid var(--blue)' : '',
                                    'border-radius': isLastLaborType && isLastActivitie ? '0px 0px 8px 0px' : ''
                                  }">
                                    </th>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<ng-template #nullData>
    <thead>
        <tr style="display: flex;">
            <th class="head-table-one">
                <span class="text-body-heavy">Actividades</span>
            </th>
            <th class="text-body-heavy head-table-two" colspan="2">
                <span class="text-body-heavy">Autoevalución</span>
            </th>
            <th class="text-body-heavy head-table-three">
                <span class="text-body-heavy">Fuente 2</span>
            </th>
        </tr>
        <tr style="display:flex;">
            <th class="subhead-table-one">
                <span class="text-body-small-r">Nombre actividad</span>
            </th>
            <th class="text-body-small-r subhead-table-two">
                <span class="text-body-small-r">Estado</span>
            </th>
            <th class="text-body-small-r subhead-table-three">
                <span class="text-body-small-r">Acciones</span>
            </th>
            <th class="text-body-small-r subhead-table-four">
                <span class="text-body-small-r">Evaluador</span>
            </th>
            <th class="text-body-small-r subhead-table-four">
                <span class="text-body-small-r">Rol Evaluador</span>
            </th>
            <th class="text-body-small-r subhead-table-two" style="background-color: var(--Gray-background);">
                <span class="text-body-small-r">Estado</span>
            </th>
            <th class="text-body-small-r subhead-table-three" style="background-color: var(--Gray-background);">
                <span class="text-body-small-r">Acciones</span>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th style="border-bottom: 1px solid var(--blue); border-radius: 0px 0px 8px 8px;" class="type-source text-body-heavy"> 
                No cuenta con actividades registradas
             </th>
        </tr>
    </tbody>
</ng-template>