<table class=" table-bordered" >
    <thead>
        <tr>
            <th colspan="3">
                <span>Actividad</span>
            </th>
            <th colspan="3">
                <span>Autoevaluación</span>
            </th>
            <th colspan="3">
                <span>
                    Fuente 2
                </span>
            </th>
        </tr>
        <tr>
            <th>
                <span>
                    <span>Nombre actividad</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Horas</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Porcentaje(%)</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Estado</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Evaluación</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Acciones</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Estado</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Evaluación</span>
                </span>
            </th>
            <th>
                <span>
                    <span>Acciones</span>
                </span>
            </th>
        </tr>
    </thead>
    <tbody *ngFor="let key of getObjectKeys(consolidatedTeacher!.actividades)">
        <tr>
            <td colspan="9" class="center-text">
                <span>{{key}}</span>
            </td>
        </tr>
        <tr *ngFor="let activity of getActivities(key)">
            <td>
                <span>{{activity.nombre}}</span>
            </td>
            <td>
                <span>{{activity.horas}}</span>
            </td>
            <td>
                <span>{{activity.porcentaje}}</span>
            </td>
            <td>
                <span *ngIf="activity.fuentes[0]">{{activity.fuentes[0].estadoFuente}}</span>
            </td>
            <td>
                <span  *ngIf=" activity.fuentes[0]">{{activity.fuentes[0].calificacion}}</span>
            </td>
            <td>
                <img *ngIf="activity.fuentes[0] && activity.fuentes[0].estadoFuente.includes('Diligenciado')" (click)="viewDetailsSourceModal(activity.oidActividad)" src="/assets/icons/tables/icon-view.svg" alt="view-icon" style="cursor: pointer;">
                <img src="/assets/icons/tables/icon-message.svg" alt="message-icon" (click)="emailNotificationModal()" style="cursor: pointer;">
            </td>
            <td>
                <span *ngIf="activity.fuentes[1]">{{activity.fuentes[1].estadoFuente}}</span>
            </td>
            <td>
                <span *ngIf="activity.fuentes[1]">{{activity.fuentes[1].calificacion}}</span>
            </td>
            <td>
                <img *ngIf="activity.fuentes[1]  && activity.fuentes[1].estadoFuente.includes('Diligenciado')" (click)="viewDetailsSourceTwoModal(activity.oidActividad)" src="/assets/icons/tables/icon-view.svg" alt="view-icon" style="cursor: pointer;">
                <img src="/assets/icons/tables/icon-message.svg" alt="message-icon" (click)="emailNotificationModal()" style="cursor: pointer;">
            </td> 
        </tr>
    </tbody>
</table>

<app-email-notification></app-email-notification>
<app-view-details-source-one></app-view-details-source-one>
<app-view-details-source-two></app-view-details-source-two>